name: Create Pull Request on merge in Deploy branch

on:
  pull_request:
    types:
      - closed
    branches: 
      - deploy
      - main

jobs:
  create_pull_request:
    if: ${{ github.event.pull_request.merged && !startsWith(github.event.pull_request.title, 'Auto-Generated') }}
    runs-on: ubuntu-latest
    steps:
      - name: Check out git repository
        uses: actions/checkout@v3

      - name: echo pr title
        run: echo ${{ github.event.pull_request.title}}

      # - name: Make commit for patch
      #   if: startsWith(github.event.pull_request.title, "fix") || startsWith(github.event.pull_request.title, "bug")
      #   run: yarn version --patch

      # - name: Make commit for major changes
      #   if: true
      #   run: yarn version --major

      # - name: Make commit for minor changes (this should be the default commit)
      #   run: yarn version --minor

      - name: Make commit 
        uses: "DamianReeves/write-file-action@master"
        with:
          path: README.md
          write-mode: append
          contents: |
            console.log('some contents')

      - name: Create a pull request
        uses: peter-evans/create-pull-request@v5
        with:
          title: Auto-Generated








      


    